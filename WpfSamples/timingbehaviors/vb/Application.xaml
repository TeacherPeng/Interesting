<Application x:Class="Animation_TimingBehaviors.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:SampleControls="clr-namespace:Animation_TimingBehaviors"
             Startup="myAppStartup">
  <Application.Resources>
    
    <!-- Resources -->
    <DrawingBrush x:Key="MyGridBrushResource" 
      Viewport="0,0,10,10" ViewportUnits="Absolute" TileMode="Tile">
      <DrawingBrush.Drawing>
          <DrawingGroup>
            <DrawingGroup.Children>
              <GeometryDrawing Brush="#99FFFFFF">
                <GeometryDrawing.Geometry>
                  <RectangleGeometry Rect="0,0,1,1" />
                </GeometryDrawing.Geometry>
              </GeometryDrawing>
              <GeometryDrawing Geometry="M0,0 L1,0 1,0.1, 0,0.1Z" Brush="#99CCCCFF" />
              <GeometryDrawing Geometry="M0,0 L0,1 0.1,1, 0.1,0Z" Brush="#99CCCCFF" />
            </DrawingGroup.Children>
          </DrawingGroup>        
      </DrawingBrush.Drawing>
    </DrawingBrush>  
    
    <GradientStopCollection x:Key="MyGlassGradientStopsResource">
      <GradientStop Color="White" Offset="0.2" />
      <GradientStop Color="Transparent" Offset="0.4" />
      <GradientStop Color="White" Offset="0.5" />
      <GradientStop Color="Transparent" Offset="0.75" />
      <GradientStop Color="White" Offset="0.9" />
      <GradientStop Color="Transparent" Offset="1.0" />
    </GradientStopCollection>
    
    <LinearGradientBrush x:Key="MyGlassBrushResource" StartPoint="0,0" EndPoint="1,1" Opacity="1" GradientStops="{StaticResource MyGlassGradientStopsResource}" />
    
    
    <!-- Styles & Templates -->
    <Style TargetType="{x:Type TextBlock}">
      <Setter Property="TextBlock.FontFamily" Value="Verdana" />
      <Setter Property="TextBlock.HorizontalAlignment" Value="Left" />
      <Setter Property="TextBlock.TextWrapping" Value="Wrap" />
      <Setter Property="TextBlock.FontWeight" Value="Normal" />
      <Setter Property="TextBlock.MaxWidth" Value="500" />
    </Style>
    
    <Style TargetType="{x:Type TextBlock}" x:Key="CodeTextBlockStyle">
      <Setter Property="TextBlock.FontFamily" Value="Courier New" />
      <Setter Property="TextBlock.HorizontalAlignment" Value="Left" />
      <Setter Property="TextBlock.TextWrapping" Value="Wrap" />
      <Setter Property="TextBlock.FontWeight" Value="Normal" />
      <Setter Property="TextBlock.MaxWidth" Value="500" />
    </Style>    
 
    <Style x:Key="myIntroTextBorderStyle" TargetType="{x:Type Border}">
      <Setter Property="Border.Background">
        <Setter.Value>
          <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
            <LinearGradientBrush.GradientStops>
              <GradientStop Offset="0.0" Color="#CCCCFF" />
              <GradientStop Offset="1.0" Color="White" />
            </LinearGradientBrush.GradientStops>
          </LinearGradientBrush>
        </Setter.Value>
      </Setter>
      <Setter Property="Border.HorizontalAlignment" Value="Stretch" />
      <Setter Property="Border.BorderBrush" Value="Gray" />
      <Setter Property="Border.BorderThickness" Value="1" />
      <Setter Property="Border.Margin" Value="0,0,0,40" />
      <Setter Property="Border.VerticalAlignment" Value="Top" />
    </Style>

    <ControlTemplate TargetType="{x:Type SampleControls:ElapsedTimeControl}"
      x:Key="DefaultTimeElapsedControlTemplate">
      <Border Background="{TemplateBinding Background}" 
        BorderBrush="{TemplateBinding BorderBrush}"
        BorderThickness="{TemplateBinding BorderThickness}">
        <Grid Margin="{TemplateBinding Padding}">
          <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition Width="10" />
            <ColumnDefinition />
          </Grid.ColumnDefinitions>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="10" />
            <RowDefinition Height="Auto" />
          </Grid.RowDefinitions>

          <TextBlock Grid.Column="0">Time Elapsed:</TextBlock>
          <TextBlock Grid.Column="2" Text="{TemplateBinding CurrentTimeAsString}" />

        </Grid>
      </Border>
    </ControlTemplate>
 
   <Style TargetType="{x:Type SampleControls:ElapsedTimeControl}">
     <Setter Property="Control.Template" 
      Value="{StaticResource DefaultTimeElapsedControlTemplate}" />
     <Setter Property="Padding" Value="20" />
     <Setter Property="Background" Value="{StaticResource MyGlassBrushResource}" />
     <Setter Property="BorderBrush">
      <Setter.Value>
        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
          <LinearGradientBrush.GradientStops>
            <GradientStop Offset="0.0" Color="LightBlue" />
            <GradientStop Offset="1.0" Color="Gray" />
          </LinearGradientBrush.GradientStops>
        </LinearGradientBrush>
      </Setter.Value>
     </Setter>
     <Setter Property="BorderThickness" Value="1" />
   </Style>
    
  </Application.Resources>
</Application>

